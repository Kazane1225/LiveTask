<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>LiveTask</title>
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>
    <div class="container">
        <h1>My Tasks</h1>
        
        <!-- タスク追加フォーム -->
        <form id="taskForm" th:action="@{/add}" method="post">
            <input type="text" name="title" placeholder="New task" required>
            <input type="date" name="dueDate">
            <button type="submit">Add</button>
        </form>

        <!-- タスク一覧 -->
        <div id="taskList">
            <div th:each="task : ${tasks}" class="task" 
                 th:classappend="${task.completed} ? 'completed'">
                <span th:text="${task.title}"></span>
                <span th:text="${task.dueDate}"></span>
                <button th:onclick="|deleteTask(${task.id})|">Delete</button>
                <button th:onclick="|toggleTask(${task.id})|">
                    [[${task.completed} ? 'Undo' : 'Complete']]
                </button>
            </div>
        </div>
    </div>

    <script src="/js/app.js"></script>
</body>
</html>